---
import { Icon } from 'astro-icon/components';

import PageLayout from '~/layouts/PageLayout.astro';
import { manualMeta } from '~/data/manual';
import { getPermalink } from '~/utils/permalinks';

import mapImage from '~/assets/images/akagera/Figure_1_ANP_Area_of_Intervention_Akagera_National_Park.png';
import stepsImage from '~/assets/images/akagera/Figure_2_Steps_of_formulating_CDS_of_ANP.png';
import objectivesImage from '~/assets/images/akagera/Figure_6_Objectives_of_each_component_of_the_ANP_CDS_2.png';
import giraffeImage from '~/assets/images/akagera/photo_03_wide.jpg';
import classImage from '~/assets/images/akagera/photo_04_wide.jpg';
import readingImage from '~/assets/images/akagera/photo_16_wide.jpg';
import elephantImage from '~/assets/images/akagera/photo_11_wide.jpg';

const metadata = {
  title: 'Akagera Case Study',
  description: 'Akagera Community Development Strategy 2025-2050 case study summary and visuals.',
};

const process = [
  '2023 workshop: problem identification, target group profiling, and community validation',
  'Internal team analysis and first strategic drafts in the 3E+ structure',
  '2024 expert sessions: Theory of Change refinement and indicator design',
  'Finalization of strategic components and readiness for implementation',
  'Next phase: deeper socioeconomic and behaviour-change diagnostics',
];

const priorities = [
  'Illegal fishing, poaching, and weak conservation awareness',
  'Human-wildlife conflict and livelihood pressure near park borders',
  'Local authority ownership and stakeholder alignment',
  'Targeted behaviour messages for specific actor groups',
];

const lessons = [
  'Specific behaviours work better than generic awareness messaging.',
  'Barrier analysis is required before selecting communication activities.',
  'Monitoring capacity and social-behaviour-change expertise are critical for scale.',
  'Partnership models are needed for issues beyond direct outreach mandate.',
];
---

<PageLayout metadata={metadata}>
  <section class="relative overflow-hidden border-b border-black/10 bg-[#e6ebdd]">
    <img
      src={giraffeImage.src}
      alt="Giraffes in Akagera"
      class="absolute inset-0 h-full w-full object-cover opacity-20"
      loading="eager"
    />
    <div class="mx-auto relative max-w-7xl px-6 py-14 md:py-20">
      <p class="text-xs font-semibold uppercase tracking-[0.2em] text-[#4f6957]">Case study</p>
      <h1 class="mt-3 max-w-5xl font-heading text-4xl leading-tight text-[#1f3226] md:text-6xl">
        Akagera Community Development Strategy 2025-2050
      </h1>
      <p class="mt-5 max-w-4xl text-base leading-relaxed text-[#33473c] md:text-lg">
        The Akagera case is the operational prototype behind this manual. It demonstrates how outreach teams can move
        from ad-hoc activities to evidence-based planning with measurable outcomes.
      </p>
      <div class="mt-8 flex flex-wrap gap-3">
        <a
          href={manualMeta.pdfPath}
          target="_blank"
          class="btn-primary !bg-[#5f7f58] !border-[#5f7f58] hover:!bg-[#4f6f49] hover:!border-[#4f6f49]"
        >
          Download manual
          <Icon name="tabler:download" class="ml-2 h-5 w-5" />
        </a>
        <a
          href={`${getPermalink('/chapters')}/#part-5`}
          class="btn-secondary !border-[#5f7f58] !text-[#2d4334] hover:!bg-[#dbe4d2]"
        >
          Open chapter 5
        </a>
      </div>
    </div>
  </section>

  <section class="bg-[#f4f6ef]">
    <div class="mx-auto grid max-w-7xl gap-7 px-6 py-14 md:grid-cols-2 md:py-18">
      <article class="rounded-3xl border border-[#d3dcc9] bg-white p-6 shadow-[0_16px_32px_rgba(30,48,36,0.08)]">
        <h2 class="text-2xl font-semibold text-[#24382d]">Why this case matters</h2>
        <p class="mt-4 text-sm leading-relaxed text-[#3d5045]">
          The strategy addresses high population pressure and conservation risk around Akagera by linking behaviour
          change, livelihoods, and governance. It is designed for practical transfer to other protected areas in the
          network.
        </p>
        <ul class="mt-5 space-y-2">
          {
            priorities.map((item) => (
              <li class="flex gap-3 rounded-xl border border-[#dbe4d2] bg-[#f7faf3] px-3 py-2 text-sm text-[#2f4337]">
                <span class="mt-1 h-2.5 w-2.5 shrink-0 rounded-full bg-[#6b8b61]" />
                <span>{item}</span>
              </li>
            ))
          }
        </ul>
      </article>

      <article class="rounded-3xl border border-[#d3dcc9] bg-white p-6 shadow-[0_16px_32px_rgba(30,48,36,0.08)]">
        <h2 class="text-2xl font-semibold text-[#24382d]">Implementation sequence</h2>
        <ol class="mt-5 space-y-3">
          {
            process.map((step, index) => (
              <li class="rounded-xl border border-[#dbe4d2] bg-[#f7faf3] px-3 py-3 text-sm text-[#2f4337]">
                <span class="mr-2 font-semibold text-[#3d5c49]">{index + 1}.</span>
                {step}
              </li>
            ))
          }
        </ol>
      </article>
    </div>
  </section>

  <section class="border-y border-black/5 bg-[#edf1e6]">
    <div class="mx-auto max-w-7xl px-6 py-14 md:py-18">
      <h2 class="font-heading text-3xl text-[#203227] md:text-5xl">Maps and visual references</h2>
      <div class="mt-8 grid gap-5 lg:grid-cols-[1.1fr_0.9fr]">
        <article class="rounded-3xl border border-black/10 bg-white p-3 shadow-[0_18px_36px_rgba(31,47,36,0.12)]">
          <img
            src={mapImage.src}
            alt="Akagera community zone of influence map"
            class="w-full rounded-2xl object-cover"
            loading="lazy"
          />
          <p class="px-2 pb-2 pt-4 text-sm text-[#415247]">
            Akagera community zone of influence and intervention landscape.
          </p>
        </article>

        <div class="grid gap-4">
          <img
            src={stepsImage.src}
            alt="Strategy development steps"
            class="w-full rounded-2xl border border-black/10 bg-white p-2"
            loading="lazy"
          />
          <img
            src={objectivesImage.src}
            alt="3E objectives"
            class="w-full rounded-2xl border border-black/10 bg-white p-2"
            loading="lazy"
          />
        </div>
      </div>

      <div class="mt-6 grid gap-4 sm:grid-cols-3">
        <img
          src={classImage.src}
          alt="Community session in Akagera"
          class="h-full w-full rounded-2xl object-cover"
          loading="lazy"
        />
        <img
          src={readingImage.src}
          alt="Students using materials"
          class="h-full w-full rounded-2xl object-cover"
          loading="lazy"
        />
        <img
          src={elephantImage.src}
          alt="Elephant in Akagera"
          class="h-full w-full rounded-2xl object-cover"
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <section class="bg-[#f6f7f2]">
    <div class="mx-auto max-w-7xl px-6 py-14 md:py-18">
      <h2 class="font-heading text-3xl text-[#203227] md:text-5xl">Lessons learned</h2>
      <div class="mt-7 grid gap-3 md:grid-cols-2">
        {
          lessons.map((item) => (
            <article class="rounded-2xl border border-[#d6dfcc] bg-white px-5 py-4 text-sm leading-relaxed text-[#33473c] shadow-sm">
              {item}
            </article>
          ))
        }
      </div>
    </div>
  </section>
</PageLayout>
